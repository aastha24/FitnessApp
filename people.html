<!DOCTYPE html>
<html>
<head>
  <title> Meal Planning Page</title>
  <meta charset="UTF-8">
  <script type="text/javascript" src="app.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container-fluid" style="background-color:rgb(51,51,51);">
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="index.html">FitGo</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="index.html">Home</a></li>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Links <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="profile.php">Profile</a></li>
          <li><a href="#">Meal Planning</a></li>
          <li><a href="#">Not me...</a></li>
        </ul>
      </li>
      <li><a href="about.html">About</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a><span class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="true" data-scope="public_profile,email,user_friends" onlogin="checkLoginState();"></span></a></li>
    </ul>
  </div>
</nav>
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="index.html">FitGO</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="index.html">Home</a></li>
      <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Links <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a href="profile.php">Profile</a></li>
          <li><a href="api.php">Nutritionix Test</a></li>
          <li><a href="#">Me too!</a></li>
          <li><a href="#">Not me...</a></li>
        </ul>
      </li>
      <li><a href="about.html">About</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a><span class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="true" data-scope="public_profile,email,user_friends" onlogin="checkLoginState();"></span></a></li>
    </ul>
  </div>
</nav>
    </div>

<style type="text/css">
.right-message {
    position:absolute;
    top:5px;
    right:5px;
}
.container{
    display: flex;
}
.fixed{
    width: 500px;
}
.flex-item{
    flex-grow: 1;
    position:absolute;
    top:100px;
    right:400px;
}
</style>

<body>
<div class="fixed">
<b><strong>MEAL PLANNING</strong></b>
<form>
    Food Search <input type="text" name="query" id="query">
    <input type="Submit" value="Search" onClick="return search_request()">
</form>
<p id="mealPlan"></p>   
    
<table>
    <tr>
        <td>Meal Number</td>
        <td><input type="text" id="mealno"></td>
    </tr>

    <tr>
        <td>Food:</td>
        <td><input type="text" id="food" value="" ></td>
    </tr>
    <tr>
        <td>Serving Size (Units):</td>
        <td><input type="text" id="serving_size_unit" value=""></td>
    </tr>
    <tr>
        <td>Carbs:</td>
        <td><input type="text" id="carbs" value=""></td>
    </tr>
    <tr>
        <td>Protein:</td>
        <td><input type="text" id="protein" value=""></td>
    </tr>
    <tr>
        <td>Fat:</td>
        <td><input type="text" id="fat" value=""></td>
    </tr>
    <tr>
        <td>Amount:</td>
        <td><input type="text" id="amount">
        <td><input type="button" id="add" value="Add" onclick="Javascript:addRow();Javascript:addmacRow()"></td>
    </tr>

    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
</table>
</div>
    
<div id="mydata">
<b>Your Current Plan</b>
<table id="myTableData"  border="1" cellpadding="2">
    <tr>
        <td>&nbsp;</td>
        <td><b>Meal Number</b></td>
        <td><b>Food</b></td>
        <td><b>Serving Size (Units)</b></td>
        <td><b>Amount</b></td>
        <td><b>Carbs</b></td>
        <td><b>Protein</b></td>
        <td><b>Fat</b></td>
        <td><b>Calories</b></td>
    </tr>
</table>
&nbsp;
 
</div>  
  
<div id="myMacros">
<b>Total Macros</b>
<table id="macroTable"  border="1" cellpadding="2">
    <tr>
        <td><b>Carbs</b></td>
        <td><b>Protein</b></td>
        <td><b>Fat</b></td>
        <td><b>Calories</b></td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>0</td>
  </tr>
</table>
&nbsp; 
</div>  

<script>
    var results;
    function search_request(){
      $.ajax({
          url: 'https://api.nutritionix.com/v1_1/search/'+ encodeURI(document.getElementById('query').value) +'?results=0%3A1&cal_min=0&cal_max=50000&fields=nf_total_carbohydrate%2Cnf_protein%2Cnf_total_fat%2Cnf_serving_size_qty%2Cnf_serving_size_unit%2Cnf_serving_weight_grams%2Citem_name%2Cbrand_name&appId=550ff872&appKey=c6944198d0b40c218890bc459c700fdc',
          cache:false,
          success: function(data){
              console.log(data);
              document.getElementById("food").value = data["hits"][0]["fields"]["item_name"];
              document.getElementById("serving_size_unit").value = data["hits"][0]["fields"]["nf_serving_weight_grams"];
              document.getElementById("carbs").value = data["hits"][0]["fields"]["nf_total_carbohydrate"];
              document.getElementById("protein").value = data["hits"][0]["fields"]["nf_protein"];
              document.getElementById("fat").value = data["hits"][0]["fields"]["nf_total_fat"];
          }
      });
      return false;
    }
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="../../dist/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
